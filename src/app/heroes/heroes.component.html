<div class="row" *ngIf="loading">
  <div class="col text-center">
    <hb-loading></hb-loading>
  </div>
</div>
<div class="row" *ngIf="!loading && !herostatsAvg">
  <div class="col text-center">
    <h3>Failed to load hero stats</h3>
  </div>
</div>
<div class="row" *ngIf="!loading && herostatsAvg">
  <div class="col-12">
    <legend>14 day average from Ranked/Season matches</legend>
  </div>
  <div class="col-12 mb-2">
    <div class="d-flex justify-content-start">
      <div class="mr-auto">
        <label>Sort By: </label>
        <div class="btn-group" role="group" aria-label="Basic example">
          <a class="btn btn-secondary" (click)="sortStats('wr')" [class.active]="sortMethod === 'wr'">
            Win Rate
          </a>
          <a class="btn btn-secondary" (click)="sortStats('pr')" [class.active]="sortMethod === 'pr'">
            Pick Rate
          </a>
        </div>
      </div>
      <div class="mt-2">
        <code>
          WR = Win Rate
          PR = Pick Rate
        </code>
      </div>
    </div>
  </div>
  <div class="col-sm-4 col-md-3 col-lg-2 mb-2 mt-2" *ngFor="let hero of herostatsAvg">
    <div class="card">
      <!-- <div class="card-block">
        <hb-line [stats]="herostatsWeek[hero.hero_id]"></hb-line>
      </div> -->
      <div class="card-block text-center">
        <h5 class="card-title p-0 m-0">
          <img width="60" height="60" src="https://www.heroesofnewerth.com/images/heroes/{{hero.hero_id}}/icon_128.jpg">
        </h5>
        <p class="m-0">
          WR: {{ hero.wr * 100 | number:'1.2-2' }}%
        </p>
        <p class="m-0">
          PR: {{ hero.pr * 100 | number:'1.2-2' }}%
        </p>
      </div>
    </div>
  </div>
</div>
